# 変更履歴

このプロジェクトの重要な変更はすべてこのファイルに記録されます。

フォーマットは[Keep a Changelog](https://keepachangelog.com/en/1.0.0/)に基づいており、
このプロジェクトは[セマンティックバージョニング](https://semver.org/spec/v2.0.0.html)に準拠しています。

## [未リリース]

### 追加
- 階層構造を持つ包括的なドキュメント整備
- パフォーマンスベンチマークと最適化ガイド
- CI/CDプラットフォームと開発ツールとの統合ガイド
- 詳細な機能分析を含むツール比較マトリックス
- 8つの業界カテゴリにわたる実世界の例

### 変更
- ドキュメント構造をuser-guide、reference、guides、projectセクションに再編成
- READMEを簡素化し、よりやわらかい言葉でアクセスしやすく
- バッジリンクをdocs.rsではなくGitHubドキュメントを指すように更新

### 修正
- 統一形式の説明で矛盾する記述を修正
- 現在の実装状況を反映するようにフォーマットサポート情報を更新

### 削除
- **設定ファイルサポート** - `~/.config/diffx/config.toml`設定ファイル読み込み機能
- **環境変数サポート** - `DIFFX_*`環境変数による設定オーバーライド機能
- 兄弟アプリ（diffai、lawkit）との一貫性確保とUNIX哲学の遵守のため削除

## [0.2.0] - 2025-01-15

### 追加
- **XML形式サポート** - XMLファイル解析と比較の完全サポート
- **INI形式サポート** - INI/configファイル形式の完全サポート
- **CSV形式サポート** - 配列要素追跡付きCSVファイル比較
- **設定ファイルサポート** - `~/.config/diffx/config.toml`でのTOML設定ファイル
- **環境変数サポート** - すべてのCLIオプションを環境変数で設定可能
- **ディレクトリ比較** - `--recursive`フラグでの再帰的ディレクトリ比較
- **パスフィルタリング** - 特定のデータセクションに比較を集中する`--path`オプション
- **浮動小数点許容値** - 許容値付き数値比較のための`--epsilon`オプション
- **配列要素追跡** - インテリジェントな配列要素識別のための`--array-id-key`
- **正規表現フィルタリング** - 比較から除外するキーのための`--ignore-keys-regex`
- **複数出力形式** - JSON、YAML、統一差分出力オプション
- **標準入力サポート** - ファイル名として`-`を使用してstdinとファイルを比較
- **形式自動検出** - ファイル拡張子からの自動形式検出
- **型変更検出** - データ型変更（例：文字列から数値）の明示的報告
- **包括的テストスイート** - すべての機能とエッジケースをカバーする23のテストケース
- **パフォーマンスベンチマーク** - パフォーマンス監視のためのCriterionベースベンチマーク
- **クロスプラットフォームサポート** - Linux、macOS、Windows互換性
- **CI/CD統合** - テストとリリースのためのGitHub Actionsワークフロー

### 変更
- **メジャーバージョンアップ** - 重要な機能追加を反映
- **Rust エディション更新** - 最新言語機能のために2021に更新
- **CLIインターフェース再設計** - 一貫した引数命名とより良いヘルプテキスト
- **エラーハンドリング改善** - より説明的なエラーメッセージと終了コード
- **メモリ使用量最適化** - 大ファイル処理のために最適化
- **パーサーアーキテクチャリファクタリング** - 拡張性とパフォーマンスのために

### 修正
- **INI解析エッジケース** - 不正なINIファイルの処理改善
- **配列比較ロジック** - 空の配列とネスト構造の問題を修正
- **Unicode処理** - すべてのテキスト形式でのUnicodeの適切なサポート
- **ファイル拡張子検出** - より堅牢なファイルタイプ推論
- **メモリリーク** - パーサーエラーパスでのメモリリークを解消

### 削除
- **レガシーコマンドラインオプション** - 0.1.xシリーズの非推奨フラグを削除

## [0.1.2] - 2024-12-20

### 追加
- **Pythonラッパーパッケージ** - Python統合のための`diffx-python` pipパッケージ
- **Node.jsラッパーパッケージ** - JavaScript統合のための`diffx-npm` npmパッケージ
- **日本語ドキュメント** - READMEとコアドキュメントの完全な日本語翻訳
- **実際のベンチマークデータ** - AMD Ryzen 7 5800Xでの実際のパフォーマンス測定

### 変更
- **ドキュメント改善** - より良い例とより明確な説明
- **パフォーマンス最適化** - 大ファイルで15-20%の速度改善
- **エラーメッセージの明確性** - より役立つエラー説明

### 修正
- **TOML解析エッジケース** - 複雑なTOML構造のより良い処理
- **CLI引数検証** - コマンドライン引数の検証改善
- **ファイルパス処理** - 相対パス解決の問題を修正

## [0.1.1] - 2024-12-10

### 追加
- **TOML形式サポート** - 完全なTOMLファイル解析と比較
- **拡張CLIアウトプット** - 色と記号による視覚的フォーマット改善
- **拡張テストカバレッジ** - TOMLとエッジケースの追加テストケース

### 変更
- **出力フォーマット** - より良いインデントでより読みやすいCLI出力
- **パフォーマンス改善** - JSONとYAML解析の最適化

### 修正
- **YAML解析問題** - 複雑なYAML構造の処理を修正
- **CLI終了コード** - 異なるシナリオでの適切な終了コード処理
- **メモリ使用量** - 大きなJSONファイルのメモリフットプリント削減

## [0.1.0] - 2024-12-01

### 追加
- **diffx セマンティック差分ツールの初回リリース**
- **JSON形式サポート** - 完全なJSONファイル解析と比較
- **YAML形式サポート** - 完全なYAMLファイル解析と比較
- **コア差分エンジン** - 構造化データのセマンティック差分検出
- **CLIインターフェース** - 基本オプション付きコマンドラインツール
- **基本出力形式** - CLIとJSON出力モード
- **Rustクレート** - Rustアプリケーション用`diffx-core`ライブラリ
- **クロスプラットフォームビルド** - Linux、macOS、Windows サポート
- **GitHubリリース** - 自動バイナリリリース
- **基本ドキュメント** - 使用例付きREADME

### 技術詳細
- Rust 2021エディションで構築
- JSON解析に`serde_json`を使用
- YAML解析に`serde_yaml`を使用
- CLI引数処理に`clap`を使用
- エラーハンドリングに`anyhow`を使用
- `cargo test`による包括的テストスイート

## バージョン履歴要約

| バージョン | リリース日 | 主要機能 |
|---------|-------------|--------------|
| **0.2.0** | 2025-01-15 | XML/INI/CSVサポート、高度なフィルタリング、設定ファイル |
| **0.1.2** | 2024-12-20 | Python/Node.jsラッパー、日本語ドキュメント、実ベンチマーク |
| **0.1.1** | 2024-12-10 | TOMLサポート、拡張CLI出力、パフォーマンス改善 |
| **0.1.0** | 2024-12-01 | JSON/YAMLサポートの初回リリース |

## マイグレーションガイド

### 0.1.xから0.2.0へ

**破壊的変更:**
- なし - 0.2.0は0.1.xと完全に後方互換

**利用可能な新機能:**
```bash
# 新しいフォーマットサポート
diffx config.xml config.new.xml
diffx database.ini database.new.ini
diffx data.csv data.new.csv

# 新しいフィルタリングオプション
diffx config.json config.new.json --path "database"
diffx config.json config.new.json --ignore-keys-regex "^timestamp$"
diffx users.json users.new.json --array-id-key "id"

# 新しい出力形式
diffx config.json config.new.json --output yaml
diffx config.json config.new.json --output unified

# 設定ファイルサポート
echo 'ignore_keys_regex = "^(timestamp|_.*)"' > ~/.config/diffx/config.toml
```

**推奨アップグレード:**
1. **設定ファイルを追加** - よく使用するオプションのために
2. **配列IDキーを使用** - より良い配列比較のために
3. **正規表現フィルタリングを適用** - 無関係なフィールドを無視するために
4. **パスフィルタリングを活用** - 大きな設定ファイルのために

### 0.1.0から0.1.1へ

**新機能:**
```bash
# TOMLサポートを追加
diffx config.toml config.new.toml

# 拡張出力フォーマット
diffx config.json config.new.json  # 色とより良いフォーマット付き
```

## 貢献者

- **kako-jun** - プロジェクト作成者および主要メンテナー
- **コミュニティ貢献者** - 完全なリストはGitHub貢献者ページをご覧ください

## 謝辞

特に感謝：
- **Rustコミュニティ** - 優れた解析ライブラリのために
- **serdeエコシステム** - シリアライゼーションサポートのために
- **clap** - CLI引数解析のために
- **criterion** - ベンチマークフレームワークのために
- **GitHub Actions** - CI/CDインフラストラクチャのために

## サポートとフィードバック

- **問題報告**: [GitHub Issues](https://github.com/kako-jun/diffx/issues)
- **議論**: [GitHub Discussions](https://github.com/kako-jun/diffx/discussions)
- **ドキュメント**: [GitHub Pages](https://kako-jun.github.io/diffx/)

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています - 詳細は[LICENSE](../../LICENSE)ファイルをご覧ください。