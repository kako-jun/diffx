# diffx

> **ğŸš€ æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³çš„å·®åˆ† - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã¯ãªãæœ¬è³ªã«é›†ä¸­**

[English README](README.md) | [æ—¥æœ¬èªç‰ˆ README](README_ja.md)

[![CI](https://github.com/kako-jun/diffx/actions/workflows/ci.yml/badge.svg)](https://github.com/kako-jun/diffx/actions/workflows/ci.yml)
[![Crates.io CLI](https://img.shields.io/crates/v/diffx.svg?label=diffx-cli)](https://crates.io/crates/diffx)
[![Crates.io Core](https://img.shields.io/crates/v/diffx-core.svg?label=diffx-core)](https://crates.io/crates/diffx-core)
[![npm](https://img.shields.io/npm/v/diffx-js.svg?label=diffx-js)](https://www.npmjs.com/package/diffx-js)
[![PyPI](https://img.shields.io/pypi/v/diffx-python.svg?label=diffx-python)](https://pypi.org/project/diffx-python/)
[![Documentation](https://img.shields.io/badge/docs-GitHub-blue)](https://github.com/kako-jun/diffx/tree/main/docs/index_ja.md)
[![Documentation API](https://docs.rs/diffx-core/badge.svg)](https://docs.rs/diffx-core)
[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

ãƒ‡ãƒ¼ã‚¿ã®**æ§‹é€ **ã¨**æ„å‘³**ã‚’ç†è§£ã™ã‚‹æ¬¡ä¸–ä»£diffãƒ„ãƒ¼ãƒ«ã€‚JSONã€YAMLã€TOMLã€XMLã€INIã€CSVãƒ•ã‚¡ã‚¤ãƒ«ã«æœ€é©ã€‚

```bash
# å¾“æ¥ã®diffã¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãƒã‚¤ã‚ºã‚’è¡¨ç¤ºï¼ˆã‚­ãƒ¼é †åºã€ã‚±ãƒ„ã‚«ãƒ³ãƒãªã©ï¼‰
$ diff config_v1.json config_v2.json
< {
<   "name": "myapp",
<   "version": "1.0"
< }
> {
>   "version": "1.1",
>   "name": "myapp"
> }

# diffxã¯æ„å‘³çš„ãªå¤‰æ›´ã®ã¿ã‚’è¡¨ç¤º
$ diffx config_v1.json config_v2.json
~ version: "1.0" -> "1.1"
```

## âœ¨ ä¸»ãªç‰¹å¾´

- **ğŸ¯ æ„å‘³çš„èªè­˜**: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ã‚­ãƒ¼é †åºã€ç©ºç™½ã€ã‚±ãƒ„ã‚«ãƒ³ãƒã‚’ç„¡è¦–
- **ğŸ”§ å¤šæ§˜ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: JSONã€YAMLã€TOMLã€XMLã€INIã€CSVå¯¾å¿œ
- **ğŸ¤– AIå¯¾å¿œ**: è‡ªå‹•åŒ–ã‚„AIåˆ†æã«æœ€é©ãªã‚¯ãƒªãƒ¼ãƒ³ãªCLIå‡ºåŠ›
- **âš¡ é«˜é€Ÿ**: Rustã§æ§‹ç¯‰ã•ã‚ŒãŸæœ€å¤§é™ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **ğŸ”— ãƒ¡ã‚¿ãƒã‚§ã‚¤ãƒ³**: å·®åˆ†ãƒ¬ãƒãƒ¼ãƒˆã‚’æ¯”è¼ƒã—ã¦å¤‰æ›´ã®é€²åŒ–ã‚’è¿½è·¡

## ğŸ“Š æ€§èƒ½

AMD Ryzen 5 PRO 4650Uã§ã®å®Ÿæ¸¬ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯çµæœï¼š

```bash
# ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: ãƒã‚¹ãƒˆã—ãŸè¨­å®šã‚’å«ã‚€ç´„600ãƒã‚¤ãƒˆã®JSON
$ time diff large_test1.json large_test2.json  # 15è¡Œä»¥ä¸Šã®ãƒã‚¤ã‚ºã‚’è¡¨ç¤º
$ time diffx large_test1.json large_test2.json # 3ã¤ã®æ„å‘³çš„å¤‰æ›´ã‚’è¡¨ç¤º

# çµæœ:
å¾“æ¥ã®diff: ~0.002ç§’ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚¤ã‚ºã‚ã‚Šï¼‰
diffx:      ~0.005ç§’ï¼ˆã‚¯ãƒªãƒ¼ãƒ³ãªæ„å‘³çš„å‡ºåŠ›ï¼‰
```

**AIæ™‚ä»£ã«CLIãŒé‡è¦ãªç†ç”±**: AI ãƒ„ãƒ¼ãƒ«ãŒé–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ä¸å¯æ¬ ã«ãªã‚‹ä¸­ã€æ§‹é€ åŒ–ã•ã‚ŒãŸæ©Ÿæ¢°å¯èª­ãªå·®åˆ†å‡ºåŠ›ãŒé‡è¦ã«ãªã‚Šã¾ã™ã€‚`diffx`ã¯AIãŒç†è§£ã—æ¨è«–ã§ãã‚‹ã‚¯ãƒªãƒ¼ãƒ³ã§è§£æå¯èƒ½ãªçµæœã‚’æä¾›ã—ã€è‡ªå‹•ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€è¨­å®šç®¡ç†ã€ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«æœ€é©ã§ã™ã€‚

## diffxã‚’ä½¿ã†ç†ç”±

å¾“æ¥ã®`diff`ã¯è¦‹ãŸç›®ã®å¤‰æ›´ã‚’ãŸãã•ã‚“è¡¨ç¤ºã—ã¾ã™ã€‚`diffx`ã¯æœ¬å½“ã«å¤‰ã‚ã£ãŸéƒ¨åˆ†ã ã‘ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚

- **æ„å‘³ã«æ³¨ç›®**: ã‚­ãƒ¼ã®é †åºã‚„ç©ºç™½ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ç„¡è¦–
- **å¤šæ§˜ãªå½¢å¼**: JSONã€YAMLã€TOMLã€XMLã€INIã€CSVã«å¯¾å¿œ  
- **ãã‚Œã„ãªå‡ºåŠ›**: äººé–“ã«ã‚‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã‚‚AIã«ã‚‚å„ªã—ã„

## ä»•æ§˜ï¼ˆSpecificationï¼‰

### å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- JSON
- YAML
- TOML
- XML
- INI
- CSV

### å·®åˆ†ã®ç¨®é¡
- ã‚­ãƒ¼ã®è¿½åŠ ãƒ»å‰Šé™¤
- å€¤ã®å¤‰æ›´
- é…åˆ—ã®æŒ¿å…¥ãƒ»å‰Šé™¤ãƒ»å¤‰æ›´
- ãƒã‚¹ãƒˆæ§‹é€ ã®å·®åˆ†
- å€¤ã®å‹å¤‰æ›´

### å‡ºåŠ›å½¢å¼
`diffx`ã¯ã€æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã®å·®åˆ†ã‚’æœ€ã‚‚è±Šã‹ã«è¡¨ç¾ã§ãã‚‹ç‹¬è‡ªã®CLIè¡¨ç¤ºå½¢å¼ã‚’æ¨å¥¨ã—ã¾ã™ãŒã€ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚„æ—¢å­˜ãƒ„ãƒ¼ãƒ«ã¨ã®é€£æºã®ãŸã‚ã«ã€ä»¥ä¸‹ã®ä»£æ›¿å‡ºåŠ›å½¢å¼ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

- **æ¨å¥¨CLIè¡¨ç¤º (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)**
    *   æ§‹é€ çš„ãªå·®åˆ†ï¼ˆè¿½åŠ ã€å¤‰æ›´ã€å‰Šé™¤ã€å‹å¤‰æ›´ãªã©ï¼‰ã‚’äººé–“ãŒç†è§£ã—ã‚„ã™ã„ã‚ˆã†ã«ã€ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã«é…æ…®ã—ãŸè‰²åˆ†ã‘ã‚„è¨˜å·ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’ç”¨ã„ã¦æ˜ç¢ºã«è¡¨ç¤ºã™ã‚‹ç‹¬è‡ªå½¢å¼ã§ã™ã€‚
    *   `+` (è¿½åŠ ), `-` (å‰Šé™¤), `~` (å¤‰æ›´), `!` (å‹å¤‰æ›´) ã®è¨˜å·ã¨ã€é’ã€é»„ã€ã‚·ã‚¢ãƒ³ã€ãƒã‚¼ãƒ³ã‚¿ã®è‰²ã§å·®åˆ†ã‚’è¡¨ç¾ã—ã¾ã™ã€‚
    *   **ç‰¹å¾´**: ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³çš„ãªå¤‰æ›´ã«ç„¦ç‚¹ã‚’å½“ã¦ã€ã‚­ãƒ¼ã®é †åºã‚„ç©ºç™½ã®å¤‰æ›´ã¯ç„¡è¦–ã—ã¾ã™ã€‚ã“ã‚ŒãŒ `diffx` ã®æ ¸ã¨ãªã‚‹ä¾¡å€¤ã§ã™ã€‚

- **JSONå½¢å¼**
    *   æ©Ÿæ¢°å¯èª­ãªå½¢å¼ã§ã™ã€‚CI/CDã‚„ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã®é€£æºã«åˆ©ç”¨ã—ã¾ã™ã€‚
    *   `diffx` ã®æ¤œå‡ºã—ãŸå·®åˆ†ãŒJSONé…åˆ—ã¨ã—ã¦å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

- **YAMLå½¢å¼**
    *   æ©Ÿæ¢°å¯èª­ãªå½¢å¼ã§ã™ã€‚JSONã¨åŒæ§˜ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã®é€£æºã«åˆ©ç”¨ã—ã¾ã™ã€‚
    *   `diffx` ã®æ¤œå‡ºã—ãŸå·®åˆ†ãŒYAMLé…åˆ—ã¨ã—ã¦å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

- **diffäº’æ›å½¢å¼ (Unified Format)**
    *   `--output unified` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æä¾›ã•ã‚Œã¾ã™ã€‚
    *   `git` ã‚„æ—¢å­˜ã®ãƒãƒ¼ã‚¸ãƒ„ãƒ¼ãƒ«ã¨ã®é€£æºã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚
    *   **æ³¨æ„ç‚¹**: ã“ã®å½¢å¼ã¯ã€`diffx` ãŒæ¤œå‡ºã—ãŸæ„å‘³çš„ãªå·®åˆ†ã®ã¿ã‚’å¾“æ¥ã®diffå½¢å¼ã§è¡¨ç¾ã—ã¾ã™ã€‚æ„å‘³çš„ãªå·®åˆ†ã§ã¯ãªã„å¤‰æ›´ï¼ˆã‚­ãƒ¼ã®é †åºå¤‰æ›´ã€ç©ºç™½ã®å¤‰æ›´ãªã©ï¼‰ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚ã‚ãã¾ã§æ—¢å­˜ãƒ„ãƒ¼ãƒ«ã¨ã®äº’æ›æ€§ã®ãŸã‚ã®è£œåŠ©çš„ãªä½ç½®ã¥ã‘ã§ã™ã€‚

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆArchitectureï¼‰

### æ§‹æˆæ¡ˆ
```
diffx/
â”œâ”€â”€ diffx-core/      # å·®åˆ†æŠ½å‡ºãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆCrateï¼‰
â”œâ”€â”€ diffx-cli/       # CLIãƒ©ãƒƒãƒ‘ãƒ¼
â”œâ”€â”€ tests/           # ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆé–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ fixtures/    # ãƒ†ã‚¹ãƒˆç”¨å…¥åŠ›ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ integration/ # CLIçµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ unit/        # ã‚³ã‚¢ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ output/      # ãƒ†ã‚¹ãƒˆä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ docs/            # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ä»•æ§˜æ›¸
â””â”€â”€ ...
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **Rust**ï¼ˆé«˜é€Ÿãƒ»å®‰å…¨ãƒ»ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼‰
- `serde_json`, `serde_yml`, `toml`, `configparser`, `quick-xml`, `csv` ãªã©ã®ãƒ‘ãƒ¼ã‚µãƒ¼
- `clap`ï¼ˆCLIå¼•æ•°å‡¦ç†ï¼‰
- `colored`ï¼ˆCLIå‡ºåŠ›ã®è‰²ä»˜ã‘ï¼‰
- `similar`ï¼ˆUnified Formatå‡ºåŠ›ï¼‰

## ğŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ä½¿ã„æ–¹

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# CLIãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cargo install diffx
```

è©³ç´°ãªä½¿ã„æ–¹ã¨ã‚µãƒ³ãƒ—ãƒ«ã¯ [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](docs/index_ja.md) ã‚’ã”ç¢ºèªãã ã•ã„ã€‚

### ã‚¯ã‚¤ãƒƒã‚¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒªãƒ³ã‚¯

- **[ã¯ã˜ã‚ã«](docs/user-guide/getting-started_ja.md)** - åŸºæœ¬ã‚’å­¦ã¶
- **[ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](docs/user-guide/installation_ja.md)** - ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- **[CLI ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](docs/reference/cli-reference_ja.md)** - å®Œå…¨ãªã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- **[å®Ÿç”¨ä¾‹](docs/user-guide/examples_ja.md)** - æ¥­ç•Œåˆ¥ä½¿ç”¨ä¾‹
- **[çµ±åˆã‚¬ã‚¤ãƒ‰](docs/guides/integrations_ja.md)** - CI/CD ã¨è‡ªå‹•åŒ–

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
# JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¯”è¼ƒ
diffx file1.json file2.json

# ç•°ãªã‚‹å‡ºåŠ›å½¢å¼ã§æ¯”è¼ƒ
diffx config.yaml config_new.yaml --output json
diffx data.toml data_updated.toml --output yaml

# é«˜åº¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³
diffx large.json large_v2.json --ignore-keys-regex "^timestamp$|^_.*"
diffx users.json users_v2.json --array-id-key "id"
diffx metrics.json metrics_v2.json --epsilon 0.001

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ¯”è¼ƒ
diffx config_dir1/ config_dir2/ --recursive

# ãƒ¡ã‚¿ãƒã‚§ã‚¤ãƒ‹ãƒ³ã‚°ï¼ˆå¤‰æ›´ã®è¿½è·¡ï¼‰
diffx config_v1.json config_v2.json --output json > diff1.json
diffx config_v2.json config_v3.json --output json > diff2.json
diffx diff1.json diff2.json  # å¤‰æ›´ã®å¤‰æ›´ã‚’æ¯”è¼ƒï¼
```

## å°†æ¥çš„ãªå±•æœ›

- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–TUI (`diffx-tui`)**: `diffx`ã®åŠ›ã‚’ç¤ºã™ãŸã‚ã®ã‚µãƒ³ãƒ—ãƒ«å…¼é«˜æ©Ÿèƒ½ãƒ“ãƒ¥ãƒ¼ã‚¢ã€‚å·¦å³ã«ä¸¦ã¹ãŸãƒ‡ãƒ¼ã‚¿ã¨ã€ãã‚Œã¨é€£å‹•ã™ã‚‹å·®åˆ†ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã€ã€Œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æºã‚Œã«æƒ‘ã‚ã•ã‚Œãªã„ã€æœ¬è³ªçš„ãªå·®åˆ†ç†è§£ã€ã¨ã„ã†ä½“é¨“ã‚’æä¾›ã™ã‚‹ã€‚
- **ä»–è¨€èªå‘ã‘ãƒ©ãƒƒãƒ‘ãƒ¼**: Node.js/Pythonç’°å¢ƒã‹ã‚‰diffx CLIã‚’å‘¼ã³å‡ºã™ãƒ©ãƒƒãƒ‘ãƒ¼ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
- GitHub Actionsã§ã®å·®åˆ†ãƒã‚§ãƒƒã‚¯
- AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã®é€£æºï¼ˆå·®åˆ†è¦ç´„ãƒ»èª¬æ˜ï¼‰
- Web UIç‰ˆï¼ˆdiffx-webï¼‰
- VSCodeæ‹¡å¼µï¼ˆdiffx-vscodeï¼‰

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ­“è¿ã—ã¾ã™ï¼è©³ç´°ã¯ [CONTRIBUTING.md](CONTRIBUTING_ja.md) ã‚’ã”ç¢ºèªãã ã•ã„ã€‚

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ [LICENSE](LICENSE) ã‚’ã”ç¢ºèªãã ã•ã„ã€‚
